{"version":3,"sources":["images/logo-vector.svg","components/Header.js","images/pen.svg","images/heart.svg","images/trash.svg","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/ImagePopup.js","utils/api.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","createContext","Card","cardId","card","onCardClick","onCardLike","onCardDelete","console","log","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","trashImage","onClick","link","name","type","heartImage","length","Main","onEditAvatarClick","onEditProfileClick","onAddPlaceClick","cards","pen","avatar","about","map","cardItem","Footer","PopupWithForm","title","isOpen","onClose","submitTitle","onSubmit","children","AddPlacePopup","onAddPlace","useState","setName","setLink","e","preventDefault","onChange","target","value","id","placeholder","minLength","maxLength","required","EditProfilePopup","onUpdateUser","description","setDescription","React","useEffect","EditAvatarPopup","onUpdateAvatar","setAvatar","ImagePopup","selectedCard","api","options","_handleResponse","res","ok","json","Promise","reject","status","statusText","loadUserInfo","fetch","_baseUrl","headers","_headers","then","setUserInfo","values","method","body","JSON","stringify","setUserAvatar","loadCards","addCard","deleteCard","addLike","removeLike","changeLikeCardStatus","liked","this","baseUrl","authorization","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isImagePopupOpen","setIsImagePopupOpen","setSelectedCard","setCards","setCurrentUser","closeAllPopups","closePopupByEscape","evt","key","document","addEventListener","removeEventListener","closePopupByOutsideClick","classList","contains","all","userInfo","cardsData","catch","error","Provider","newCard","state","c","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.b8106cfb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo-vector.c7581985.svg\";","import logo from '../images/logo-vector.svg';\r\n\r\nfunction Header() {\r\n    return (\r\n        <header className=\"header\">\r\n            <img className=\"logo\" src={logo} alt=\"Around the u.s logo\" />\r\n        </header>\r\n    );\r\n}\r\n\r\nexport default Header;\r\n","export default __webpack_public_path__ + \"static/media/pen.ae1a976d.svg\";","export default __webpack_public_path__ + \"static/media/heart.1c9aa8bd.svg\";","export default __webpack_public_path__ + \"static/media/trash.ba431243.svg\";","import {createContext} from 'react';\r\n\r\nconst CurrentUserContext = createContext();\r\nexport default CurrentUserContext;\r\n\r\n\r\n\r\n\r\n\r\n","import heartImage from '../images/heart.svg';\r\nimport trashImage from '../images/trash.svg';\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Card({\r\n    cardId,\r\n    card,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete\r\n}) {\r\n\r\n    console.log(card);\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    const isOwn = card.owner._id === currentUser._id;\r\n    const cardDeleteButtonClassName = (\r\n        `element__trash ${isOwn ? 'element__trash_visible' : ''}`\r\n    );\r\n\r\n    const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n    const cardLikeButtonClassName = (\r\n        `element__favorite ${isLiked ? 'element__favorite_active' : ''}`\r\n    ); \r\n\r\n    function handleCardClick() {\r\n        onCardClick(card.name, card.link)\r\n    }\r\n\r\n    return (\r\n        <li className=\"element\">\r\n            <img src={trashImage} alt=\"\" className={cardDeleteButtonClassName} onClick={() => onCardDelete(card)} />\r\n            <img className=\"element__image\" src={card.link} alt=\"\" onClick={handleCardClick} />\r\n            <div className=\"element__info\">\r\n                <h2 className=\"element__text\">{card.name}</h2>\r\n                <div className=\"element__favorite-container\">\r\n                    <button className=\"element__favorite-button\" type=\"button\">\r\n                        <img className={cardLikeButtonClassName} src={heartImage} onClick={() => onCardLike(card)} alt=\"heart Image\" />\r\n                    </button>\r\n                    <p className=\"element__favorite-count\">{card.likes.length}</p>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n}\r\n\r\nexport default Card;\r\n","import pen from '../images/pen.svg';\r\nimport Card from './Card';\r\nimport { useContext } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\n\r\nfunction Main({\r\n    onEditAvatarClick,\r\n    onEditProfileClick,\r\n    onAddPlaceClick,\r\n    onCardClick,\r\n    onCardLike,\r\n    onCardDelete,\r\n    cards\r\n}) {\r\n    const currentUser = useContext(CurrentUserContext);\r\n\r\n    return (\r\n        <main className=\"main\">\r\n            <section className=\"profile\">\r\n                <div className=\"profile__image-container\">\r\n                    <img src={pen} alt=\"pen\" className=\"profile__pen\" onClick={onEditAvatarClick} />\r\n                    <img className=\"profile__image\" src={currentUser.avatar} alt=\"profile image\" />\r\n                </div>\r\n                <div className=\"profile__info\">\r\n                    <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n                    <button className=\"profile__edit-button\" type=\"button\" onClick={onEditProfileClick}/>\r\n                    <p className=\"profile__job\">{currentUser.about}</p>\r\n                </div>\r\n                <button className=\"profile__add-button\" type=\"button\" onClick={onAddPlaceClick}/>\r\n            </section>\r\n            <section className=\"elements\">\r\n                <ul className=\"elements__list\">\r\n                    {cards.map(cardItem => (\r\n                        <Card\r\n                            key={cardItem._id}\r\n                            card={cardItem}\r\n                            onCardClick={onCardClick}\r\n                            onCardLike={onCardLike} \r\n                            onCardDelete={onCardDelete} \r\n                        />\r\n                    ))}\r\n                </ul>\r\n            </section>\r\n        </main>\r\n    );\r\n}\r\n\r\nexport default Main;\r\n","function Footer() {\r\n    return (\r\n        <footer className=\"footer\">\r\n            <p className=\"footer__copyrights\">Â© 2021 Around The U.S.</p>\r\n        </footer>\r\n    );\r\n}\r\n\r\nexport default Footer;\r\n","function PopupWithForm({\r\n    name,\r\n    title,\r\n    isOpen,\r\n    onClose,\r\n    submitTitle,\r\n    onSubmit,\r\n    children\r\n}) {\r\n    return (\r\n        <div className={`popup popup_type_${name} ${isOpen && \"popup_opened\"}`}>\r\n            <div className=\"popup__form-container\">\r\n                <form className=\"popup__form\" name={name} onSubmit={onSubmit}>\r\n                    <button className=\"popup__close-icon\" type=\"button\" onClick={onClose}/>\r\n                    <h2 className=\"popup__title\">{title}</h2>\r\n                    {children}\r\n                    <button className=\"popup__button\" type=\"submit\">{submitTitle}</button>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React, { useState } from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction AddPlacePopup({\r\n    isOpen,\r\n    onClose,\r\n    onAddPlace\r\n}) {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [link, setLink] = useState(\"\");\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleLinkChange(e) {\r\n        setLink(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onAddPlace({\r\n            name: name,\r\n            link: link,\r\n        });\r\n    }\r\n\r\n    return (\r\n\r\n        <PopupWithForm\r\n            name=\"add\"\r\n            title=\"New place\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitTitle=\"Create\"\r\n            onSubmit={handleSubmit}>\r\n\r\n            <label className=\"popup__form-field\">\r\n                <input onChange={handleNameChange} className=\"popup__input\" type=\"text\" id=\"title-input\" name=\"name\" placeholder=\"Title\" value={name}\r\n                    minLength=\"1\" maxLength=\"30\" required />\r\n                <span className=\"popup__error title-input-error\"></span>\r\n            </label><label className=\"popup__form-field\">\r\n                <input onChange={handleLinkChange} className=\"popup__input\" type=\"url\" id=\"url-input\" name=\"link\" placeholder=\"Image link\" value={link}\r\n                    required />\r\n                <span className=\"popup__error url-input-error\"></span>\r\n            </label>\r\n\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React, { useState } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditProfilePopup({\r\n    isOpen,\r\n    onClose,\r\n    onUpdateUser\r\n}) {\r\n\r\n    const [name, setName] = useState(\"\");\r\n    const [description, setDescription] = useState(\"\");\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleNameChange(e) {\r\n        setName(e.target.value);\r\n    }\r\n\r\n    function handleDescriptionChange(e) {\r\n        setDescription(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateUser({\r\n            name: name,\r\n            about: description,\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setName(currentUser.name);\r\n        setDescription(currentUser.about);\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"edit\"\r\n            title=\"Edit profile\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            onSubmit={handleSubmit}\r\n            submitTitle=\"Save\">\r\n\r\n            <label className=\"popup__form-field\">\r\n                <input className=\"popup__input\" type=\"text\" id=\"name-input\" name=\"name\" placeholder=\"Name\"\r\n                    minLength=\"2\" maxLength=\"40\" value={name || \"\"} onChange={handleNameChange} required />\r\n                <span className=\"popup__error name-input-error\"></span>\r\n            </label><label className=\"popup__form-field\">\r\n                <input className=\"popup__input\" type=\"text\" id=\"job-input\" name=\"job\" placeholder=\"About me\"\r\n                    minLength=\"2\" maxLength=\"200\" value={description || \"\"} onChange={handleDescriptionChange} required />\r\n                <span className=\"popup__error job-input-error\"></span>\r\n            </label>\r\n\r\n        </PopupWithForm>\r\n    );\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\nimport CurrentUserContext from '../contexts/CurrentUserContext';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({\r\n    isOpen,\r\n    onClose,\r\n    onUpdateAvatar\r\n}) {\r\n\r\n    const [avatar, setAvatar] = useState(\"\");\r\n    const currentUser = React.useContext(CurrentUserContext);\r\n\r\n    function handleAvatarChange(e) {\r\n        setAvatar(e.target.value);\r\n    }\r\n\r\n    function handleSubmit(e) {\r\n        e.preventDefault();\r\n        onUpdateAvatar(avatar);\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        setAvatar(currentUser.avatar);\r\n    }, [currentUser, isOpen]);\r\n\r\n    return (\r\n        <PopupWithForm\r\n            name=\"avatar\"\r\n            title=\"Change profile picture\"\r\n            isOpen={isOpen}\r\n            onClose={onClose}\r\n            submitTitle=\"Save\"\r\n            onSubmit={handleSubmit}>\r\n\r\n            <label className=\"popup__form-field\">\r\n                <input className=\"popup__input\" type=\"url\" id=\"avatar-url-input\" name=\"link\" value={avatar || \"\"} placeholder=\"Image link\" onChange={handleAvatarChange}\r\n                    required />\r\n                <span className=\"popup__error avatar-url-input-error\"></span>\r\n            </label>\r\n\r\n        </PopupWithForm>\r\n\r\n    );\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","function ImagePopup({\r\n    isOpen,\r\n    onClose,\r\n    selectedCard\r\n}) {\r\n    return (\r\n        <div className={`popup popup_type_show ${isOpen && \"popup_opened\"}`}>\r\n        <div className=\"popup__image-container\">\r\n            <button className=\"popup__close-icon\" type=\"button\" onClick={onClose}/>\r\n            <img src={selectedCard.link} alt=\"alt text\" className=\"popup__image\" />\r\n            <p className=\"popup__description\">{selectedCard.name}</p>\r\n        </div>\r\n    </div>\r\n    );\r\n}\r\n\r\nexport default ImagePopup;\r\n","class Api {\r\n    \r\n    constructor(options) {\r\n        this._baseUrl = options.baseUrl;\r\n        this._headers = options.headers;\r\n    }\r\n    \r\n    _handleResponse = res => {\r\n        return (res.ok) ? res.json() : Promise.reject(`Error code: ${res.status},Error text: ${res.statusText}`);\r\n    }\r\n\r\n    loadUserInfo = () => {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            headers: this._headers,\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    setUserInfo = (values) => {\r\n        return fetch(`${this._baseUrl}/users/me`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: values.name,\r\n                about: values.about\r\n            })\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    setUserAvatar = ({link}) => {\r\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\r\n            method: \"PATCH\",\r\n            headers: this._headers,\r\n            body:  JSON.stringify({\r\n                avatar: link\r\n            })\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    loadCards = () => {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            headers: this._headers,\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    addCard = (values) => {\r\n        return fetch(`${this._baseUrl}/cards`, {\r\n            method: \"POST\",\r\n            headers: this._headers,\r\n            body: JSON.stringify({\r\n                name: values.name,\r\n                link: values.link\r\n            })\r\n        }).then(this._handleResponse);\r\n    } \r\n\r\n    deleteCard = (cardId) => {\r\n        return fetch(`${this._baseUrl}/cards/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    addLike = (cardId) => {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: \"PUT\",\r\n            headers: this._headers\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    removeLike = (cardId) => {\r\n        return fetch(`${this._baseUrl}/cards/likes/${cardId}`, {\r\n            method: \"DELETE\",\r\n            headers: this._headers\r\n        }).then(this._handleResponse);\r\n    }\r\n\r\n    changeLikeCardStatus = (cardId, liked) => {\r\n        return liked? this.addLike(cardId) : this.removeLike(cardId);\r\n    }\r\n \r\n}\r\n\r\nconst api = new Api({\r\n    baseUrl: \"https://around.nomoreparties.co/v1/group-12\",\r\n    headers: {\r\n        authorization: \"f96b71f1-1b6f-4f5f-ab42-e21faff2d782\",\r\n        \"Content-Type\": \"application/json\"\r\n    }\r\n});\r\n\r\nexport default api;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport Header from './Header.js';\r\nimport Main from './Main.js';\r\nimport Footer from './Footer.js';\r\n\r\nimport AddPlacePopup from \"./AddPlacePopup.js\";\r\nimport EditProfilePopup from \"./EditProfilePopup.js\";\r\nimport EditAvatarPopup from \"./EditAvatarPopup.js\";\r\nimport ImagePopup from \"./ImagePopup.js\";\r\n\r\nimport api from \"../utils/api.js\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext.js\";\r\n\r\nfunction App() {\r\n\r\n    const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\r\n    const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\r\n    const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\r\n    const [isImagePopupOpen, setIsImagePopupOpen] = useState(false);\r\n\r\n    const [selectedCard, setSelectedCard] = useState({ name: \"\", link: \"\" });\r\n    const [cards, setCards] = useState([]);\r\n\r\n    const [currentUser, setCurrentUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        const closePopupByEscape = (evt) => {\r\n            if (evt.key === \"Escape\") {\r\n                closeAllPopups();\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"keydown\", closePopupByEscape);\r\n        return () => document.removeEventListener(\"keydown\", closePopupByEscape);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        const closePopupByOutsideClick = (evt) => {\r\n            if (evt.target.classList.contains(\"popup\")) {\r\n                closeAllPopups();\r\n            }\r\n        };\r\n\r\n        document.addEventListener(\"click\", closePopupByOutsideClick);\r\n        return () => document.removeEventListener(\"keydown\", closePopupByOutsideClick);\r\n    }, []);\r\n\r\n    function handleEditAvatarClick() {\r\n        setIsEditAvatarPopupOpen(true);\r\n    }\r\n\r\n    function handleEditProfileClick() {\r\n        setIsEditProfilePopupOpen(true);\r\n    }\r\n\r\n    function handleAddPlaceClick() {\r\n        setIsAddPlacePopupOpen(true);\r\n    }\r\n\r\n    function handleCardClick(name, link) {\r\n        setSelectedCard({\r\n            name: name,\r\n            link: link\r\n        });\r\n        setIsImagePopupOpen(true);\r\n    }\r\n\r\n    function handleCardLike(card) {\r\n        const isLiked = card.likes.some(i => i._id === currentUser._id);\r\n        api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n            setCards((state) => state.map((c) => c._id === card._id ? newCard : c));\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function handleCardDelete(card) {\r\n        api.deleteCard(card._id).then(() => {\r\n            setCards(cards.filter((newCard) => newCard._id !== card._id))\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function handleUpdateUser({ name, about }) {\r\n        api.setUserInfo({ name, about }).then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function handleUpdateAvatar(avatar) {\r\n        api.setUserAvatar({ link: avatar }).then((res) => {\r\n            setCurrentUser(res);\r\n            closeAllPopups();\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function handleAddPlace({ name, link }) {\r\n        api.addCard({ name, link }).then((newCard) => {\r\n            setCards([newCard, ...cards]);\r\n            closeAllPopups();\r\n        }).catch((error) => {\r\n            console.log(error);\r\n        });\r\n    }\r\n\r\n    function closeAllPopups() {\r\n        setIsEditAvatarPopupOpen(false);\r\n        setIsEditProfilePopupOpen(false);\r\n        setIsAddPlacePopupOpen(false);\r\n        setIsImagePopupOpen(false)\r\n    }\r\n\r\n    useEffect(() => {\r\n        Promise.all([api.loadUserInfo(), api.loadCards()])\r\n            .then(([userInfo, cardsData]) => {\r\n                setCurrentUser(userInfo);\r\n                setCards(cardsData);\r\n            }).catch((error) => {\r\n                console.log(error);\r\n            });\r\n    }, [])\r\n\r\n    return (\r\n        <CurrentUserContext.Provider value={currentUser}>\r\n            <div className=\"App\">\r\n                <div className=\"page\">\r\n\r\n                    <div className=\"page-content\">\r\n                        <Header />\r\n                        <Main\r\n                            onEditAvatarClick={handleEditAvatarClick}\r\n                            onEditProfileClick={handleEditProfileClick}\r\n                            onAddPlaceClick={handleAddPlaceClick}\r\n                            onCardClick={handleCardClick}\r\n                            onCardLike={handleCardLike}\r\n                            onCardDelete={handleCardDelete}\r\n                            cards={cards}\r\n                        />\r\n\r\n                        <Footer />\r\n\r\n                        <EditAvatarPopup\r\n                            isOpen={isEditAvatarPopupOpen}\r\n                            onClose={closeAllPopups}\r\n                            onUpdateAvatar={handleUpdateAvatar} />\r\n\r\n                        <EditProfilePopup\r\n                            isOpen={isEditProfilePopupOpen}\r\n                            onClose={closeAllPopups}\r\n                            onUpdateUser={handleUpdateUser} />\r\n\r\n                        <AddPlacePopup\r\n                            isOpen={isAddPlacePopupOpen}\r\n                            onClose={closeAllPopups}\r\n                            onAddPlace={handleAddPlace}\r\n                        ></AddPlacePopup>\r\n\r\n\r\n                        <ImagePopup\r\n                            isOpen={isImagePopupOpen}\r\n                            onClose={closeAllPopups}\r\n                            selectedCard={selectedCard}\r\n                        />\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </CurrentUserContext.Provider>\r\n    );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}