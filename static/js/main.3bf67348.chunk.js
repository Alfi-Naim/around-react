(this["webpackJsonparound-react"]=this["webpackJsonparound-react"]||[]).push([[0],{10:function(e,t,a){},12:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(4),r=a.n(c),i=(a(10),a(2)),l=a.p+"static/media/logo-vector.c7581985.svg",o=a(0);var p=function(){return Object(o.jsx)("header",{className:"header",children:Object(o.jsx)("img",{className:"logo",src:l,alt:"Around the u.s logo"})})},d=a.p+"static/media/pen.a086f758.svg",u=a.p+"static/media/heart.1c9aa8bd.svg",j=a.p+"static/media/trash.ba431243.svg";var m=function(e){e.cardId;var t=e.card,a=e.onCardClick;return Object(o.jsxs)("li",{className:"element",children:[Object(o.jsx)("img",{src:j,alt:"",className:"element__trash"}),Object(o.jsx)("img",{className:"element__image",src:t.link,alt:"",onClick:function(){a(t.name,t.link)}}),Object(o.jsxs)("div",{className:"element__info",children:[Object(o.jsx)("h2",{className:"element__text",children:t.name}),Object(o.jsxs)("div",{className:"element__favorite-container",children:[Object(o.jsx)("button",{className:"element__favorite-button",type:"button",children:Object(o.jsx)("img",{className:"element__favorite",src:u,alt:"heart Image"})}),Object(o.jsx)("p",{className:"element__favorite-count",children:t.likes.length})]})]})]},t._id)};var b=function(e){var t=e.onEditAvatarClick,a=e.onEditProfileClick,s=e.onAddPlaceClick,n=e.onCardClick,c=e.user,r=e.cards;return Object(o.jsxs)("main",{className:"main",children:[Object(o.jsxs)("section",{className:"profile",children:[Object(o.jsxs)("div",{className:"profile__image-container",children:[Object(o.jsx)("img",{src:d,alt:"pen",className:"profile__pen",onClick:t}),Object(o.jsx)("img",{className:"profile__image",src:c.userAvatar,alt:"profile image"})]}),Object(o.jsxs)("div",{className:"profile__info",children:[Object(o.jsx)("h1",{className:"profile__name",children:c.userName}),Object(o.jsx)("button",{className:"profile__edit-button",type:"button",onClick:a}),Object(o.jsx)("p",{className:"profile__job",children:c.userDescription})]}),Object(o.jsx)("button",{className:"profile__add-button",type:"button",onClick:s})]}),Object(o.jsx)("section",{className:"elements",children:Object(o.jsx)("ul",{className:"elements__list",children:r.map((function(e){return Object(o.jsx)(m,{card:e,onCardClick:n},e._id)}))})})]})};var h=function(){return Object(o.jsx)("footer",{className:"footer",children:Object(o.jsx)("p",{className:"footer__copyrights",children:"\xa9 2021 Around The U.S."})})};var _=function(e){var t=e.name,a=e.title,s=e.isOpen,n=e.onClose,c=e.submitTitle,r=e.children;return Object(o.jsx)("div",{className:"popup popup_type_".concat(t," ").concat(s&&"popup_opened"),children:Object(o.jsx)("div",{className:"popup__form-container",children:Object(o.jsxs)("form",{className:"popup__form",name:t,children:[Object(o.jsx)("button",{className:"popup__close-icon",type:"button",onClick:n}),Object(o.jsx)("h2",{className:"popup__title",children:a}),r,Object(o.jsx)("button",{className:"popup__button",type:"submit",children:c})]})})})},f=a(5),O=new function e(t){var a=this;Object(f.a)(this,e),this._handleResponse=function(e){return e.ok?e.json():Promise.reject("Error code: ".concat(e.status,",Error text: ").concat(e.statusText))},this.loadUserInfo=function(){return fetch("".concat(a._baseUrl,"/users/me"),{headers:a._headers}).then(a._handleResponse)},this.setUserInfo=function(e){return fetch("".concat(a._baseUrl,"/users/me"),{method:"PATCH",headers:a._headers,body:JSON.stringify({name:e.name,about:e.job})}).then(a._handleResponse)},this.setUserAvatar=function(e){var t=e.link;return fetch("".concat(a._baseUrl,"/users/me/avatar"),{method:"PATCH",headers:a._headers,body:JSON.stringify({avatar:t})}).then(a._handleResponse)},this.loadCards=function(){return fetch("".concat(a._baseUrl,"/cards"),{headers:a._headers}).then(a._handleResponse)},this.addCard=function(e){return fetch("".concat(a._baseUrl,"/cards"),{method:"POST",headers:a._headers,body:JSON.stringify({name:e.name,link:e.link})}).then(a._handleResponse)},this.deleteCard=function(e){return fetch("".concat(a._baseUrl,"/cards/").concat(e),{method:"DELETE",headers:a._headers}).then(a._handleResponse)},this.addLike=function(e){return fetch("".concat(a._baseUrl,"/cards/likes/").concat(e),{method:"PUT",headers:a._headers}).then(a._handleResponse)},this.removeLike=function(e){return fetch("".concat(a._baseUrl,"/cards/likes/").concat(e),{method:"DELETE",headers:a._headers}).then(a._handleResponse)},this._baseUrl=t.baseUrl,this._headers=t.headers}({baseUrl:"https://around.nomoreparties.co/v1/group-12",headers:{authorization:"f96b71f1-1b6f-4f5f-ab42-e21faff2d782","Content-Type":"application/json"}});var x=function(e){var t=e.isOpen,a=e.onClose,s=e.selectedCard;return Object(o.jsx)("div",{className:"popup popup_type_show ".concat(t&&"popup_opened"),children:Object(o.jsxs)("div",{className:"popup__image-container",children:[Object(o.jsx)("button",{className:"popup__close-icon",type:"button",onClick:a}),Object(o.jsx)("img",{src:s.link,alt:"alt text",className:"popup__image"}),Object(o.jsx)("p",{className:"popup__description",children:s.name})]})})};var N=function(){var e=Object(s.useState)(!1),t=Object(i.a)(e,2),a=t[0],n=t[1],c=Object(s.useState)(!1),r=Object(i.a)(c,2),l=r[0],d=r[1],u=Object(s.useState)(!1),j=Object(i.a)(u,2),m=j[0],f=j[1],N=Object(s.useState)(!1),v=Object(i.a)(N,2),g=v[0],C=v[1],k=Object(s.useState)({name:"",link:""}),y=Object(i.a)(k,2),U=y[0],S=y[1],T=Object(s.useState)([]),E=Object(i.a)(T,2),A=E[0],L=E[1],P=Object(s.useState)({userName:"",userDescription:"",userAvatar:""}),I=Object(i.a)(P,2),R=I[0],D=I[1];function F(){n(!1),d(!1),f(!1),C(!1)}return Object(s.useEffect)((function(){Promise.all([O.loadUserInfo(),O.loadCards()]).then((function(e){var t=Object(i.a)(e,2),a=t[0],s=t[1];D({userName:a.name,userDescription:a.about,userAvatar:a.avatar}),L(s)})).catch((function(e){console.log(e)}))}),[]),Object(o.jsx)("div",{className:"App",children:Object(o.jsx)("div",{className:"page",children:Object(o.jsxs)("div",{className:"page-content",children:[Object(o.jsx)(p,{}),Object(o.jsx)(b,{onEditAvatarClick:function(){n(!0)},onEditProfileClick:function(){d(!0)},onAddPlaceClick:function(){f(!0)},onCardClick:function(e,t){S({name:e,link:t}),C(!0)},user:R,cards:A}),Object(o.jsx)(h,{}),Object(o.jsx)(_,{name:"avatar",title:"Change profile picture",isOpen:a,onClose:F,submitTitle:"Save",children:Object(o.jsxs)("label",{className:"popup__form-field",children:[Object(o.jsx)("input",{className:"popup__input",type:"url",id:"avatar-url-input",name:"link",placeholder:"Image link",defaultValue:"",required:!0}),Object(o.jsx)("span",{className:"popup__error avatar-url-input-error"})]})}),Object(o.jsx)(_,{name:"edit",title:"Edit profile",isOpen:l,onClose:F,submitTitle:"Save",children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("label",{className:"popup__form-field",children:[Object(o.jsx)("input",{className:"popup__input",type:"text",id:"name-input",name:"name",placeholder:"Name",defaultValue:"",minLength:"2",maxLength:"40",required:!0}),Object(o.jsx)("span",{className:"popup__error name-input-error"})]}),Object(o.jsxs)("label",{className:"popup__form-field",children:[Object(o.jsx)("input",{className:"popup__input",type:"text",id:"job-input",name:"job",placeholder:"About me",defaultValue:"",minLength:"2",maxLength:"200",required:!0}),Object(o.jsx)("span",{className:"popup__error job-input-error"})]})]})}),Object(o.jsx)(_,{name:"add",title:"New place",isOpen:m,onClose:F,submitTitle:"Create",children:Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)("label",{className:"popup__form-field",children:[Object(o.jsx)("input",{className:"popup__input",type:"text",id:"title-input",name:"name",placeholder:"Title",defaultValue:"",minLength:"1",maxLength:"30",required:!0}),Object(o.jsx)("span",{className:"popup__error title-input-error"})]}),Object(o.jsxs)("label",{className:"popup__form-field",children:[Object(o.jsx)("input",{className:"popup__input",type:"url",id:"url-input",name:"link",placeholder:"Image link",defaultValue:"",required:!0}),Object(o.jsx)("span",{className:"popup__error url-input-error"})]})]})}),Object(o.jsx)(x,{isOpen:g,onClose:F,selectedCard:U})]})})})},v=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,13)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};r.a.render(Object(o.jsx)(n.a.StrictMode,{children:Object(o.jsx)(N,{})}),document.getElementById("root")),v()}},[[12,1,2]]]);
//# sourceMappingURL=main.3bf67348.chunk.js.map